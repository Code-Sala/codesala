"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3971],{27113:function(t){var e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o={};((t,n)=>{for(var r in n)e(t,r,{get:n[r],enumerable:!0})})(o,{domains:()=>a}),t.exports=((t,o,a,s)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let u of r(o))i.call(t,u)||u===a||e(t,u,{get:()=>o[u],enumerable:!(s=n(o,u))||s.enumerable});return t})(e({},"__esModule",{value:!0}),o);var a={yello:{port:3010,hostname:"yello.io"},cloudier:{port:3030,hostname:"cloudier.io"},flowy:{port:3040,hostname:"flowy.io"},lytica:{port:3060,hostname:"lytica.io"},eventful:{port:3070,hostname:"eventful.io"},codecanvas:{port:3080,hostname:"codecanvas.io"}}},88190:function(t,e,n){var r=n(91620).Buffer,i=n(14224),o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,l=(t,e)=>{for(var n in e)o(t,n,{get:e[n],enumerable:!0})},c={};l(c,{LZW:()=>P,encryptString:()=>ti,fetchData:()=>p,generateUniqueString:()=>y,generateValidationString:()=>Z,getCurrentUnixTime:()=>E,getRealIpFromRequest:()=>X,getUserSession:()=>K,getUserSessionProps:()=>V,getValidationParameters:()=>Y,hasExpectedProperties:()=>R,obfuscateObject:()=>C,obfuscateString:()=>M,plural:()=>G,regex:()=>J,runMiddleware:()=>$,signOut:()=>d,time:()=>v}),t.exports=((t,e,n,r)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let i of s(e))u.call(t,i)||i===n||o(t,i,{get:()=>e[i],enumerable:!(r=a(e,i))||r.enumerable});return t})(o({},"__esModule",{value:!0}),c);var f=n(27113),h={},p=async(t,e={})=>new Promise((n,r)=>{let i=new URL(t,"u">typeof document?document.location.origin:void 0),o=`${i.host}${i.pathname}`;e?.body instanceof Object&&(e?.method||(e.method="POST"),e.body=JSON.stringify(e.body),e.headers={"Content-Type":"application/json",...e.headers}),e?.method||(e.method="GET");let{abortDuplicateRequests:a,...s}=e;if(a&&!s.signal){h[o]?.abort();let t=new AbortController;s.signal=t.signal,h[o]=t}fetch(t,s).then(t=>n(t)).catch(t=>r(t)).finally(()=>s.signal&&delete h[o])}),d=async()=>{p("https://yello.io/api/sign-out",{credentials:"include",abortDuplicateRequests:!0}).then(async t=>{let e=await t.json();if(!e.success)throw Error(e.error||"An error occurred");await Promise.all(Object.values(f.domains).filter(t=>"yello.io"!==t.hostname).map(t=>`https://${t.hostname}`).map(async t=>p(`${t}/api/sign-out-external`,{credentials:"include"}).catch(()=>null))),window.location.href="/"})},y=t=>{let e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e},v={};l(v,{DAY:()=>w,HOUR:()=>g,MILLISECOND_PADDING:()=>S,MINUTE:()=>m,MONTH:()=>b,SECOND:()=>_,WEEK:()=>A,YEAR:()=>x});var _=1,m=60,g=3600,w=86400,A=604800,b=2592e3,x=31536e3,S=1e3,E=t=>Math.round(new Date().getTime()/1e3)+(t||0),C={};l(C,{deobfuscate:()=>I,obfuscate:()=>F});var P={};l(P,{decode:()=>N,encode:()=>O});var k=String.fromCodePoint(65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,45,95,33,35,37,40,41,42,43,44,46,47,58,59,61,63,64,91,93,94,123,124,125,126,32,36,96,1,2,3,4,5,6,7,8,9,11,12,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,247,38,39,62,0,10,13,34,60,92),O=(t,e=64)=>{if(!t)return t;let n=encodeURIComponent(t).split(""),r=Math.log2(e),i=e*e*e,o=new Map,a=[],s=256,u=t=>{let n=t.length>1?o.get(t):t.charCodeAt(0);for(let t=(Math.log2(s)/r|0)+1;t;t--)a.push(k[n%e]),n=n/e|0},l=n[0];for(let t=1;t<n.length;t++){let e=n[t];o.has(l+e)?l+=e:(o.set(l+e,s),u(l),l=e,++s==i-1&&(o.clear(),s=256))}return u(l),a.join("")},N=(t,e=64)=>{let n=Math.log2(e),r=e*e*e,i=new Map,o={};for(let t=0;t<e;t++)o[k.charAt(t)]=t;let a=257,s=0,u=8/n|0,l=(n=0)=>o[t[s++]]+(n===u?0:e*l(n+1)),c=String.fromCharCode(l()),f=c,h=[c];for(;s<t.length;){u=Math.log2(a++)/n|0;let t=l();c=t<256?String.fromCharCode(t):i.has(t)?i.get(t):c+c.charAt(0),h.push(c),a===r-1&&(i.clear(),a=256),i.set(a-2,f+c.charAt(0)),f=c}return decodeURIComponent(h.join(""))},M={};l(M,{deobfuscate:()=>U,obfuscate:()=>D});var j=t=>t===t.toUpperCase()?t.toLowerCase():t.toUpperCase(),T=t=>null!=t,D=(t,e,n)=>t.split("").reverse().map((t,e)=>(e+1)%n?t:j(t)).flatMap((t,n)=>[t,(n+1)%e?"":y(1)]).reverse().join(""),U=(t,e,n)=>t.split("").reverse().map((t,n)=>(n+1)%(e+1)?t:void 0).filter(T).map((t,e)=>(e+1)%n?t:j(t)).reverse().join(""),F=(t,e=7,n=4)=>{let i=JSON.stringify(t);return D(r.from(O(i).split("").reverse().join("")).toString("base64"),e,n)},I=(t,e=7,n=4)=>{let i,o=U(t,e,n),a=N(r.from(o,"base64").toString().split("").reverse().join(""));try{i=JSON.parse(a)}catch{return null}return i},Z=t=>{let e=y(8);return F({__key:e,[e]:E(),...t},7,3)},q=n(61591),L=t=>i.env[t],X=t=>{let e=t.ip;return e||(e=t.headers["x-forwarded-for"]?.replace(/:\d+$/,"")),e||(e=t.socket.remoteAddress),e?.includes("::ffff:")&&(e=e.split(":").reverse()[0]),e},R=(t,e)=>!!t&&e.every(e=>t.hasOwnProperty(e)),Y=(t,e)=>{let n=X(t),r=t.headers["cf-ipcountry"],i=t.headers["user-agent"];if(!n||!i)return Promise.reject("Unable to validate request (AE2B)");let{__validation:o}=t.body||{};if(!e&&!o)return Promise.resolve({ip:n,country:r,userAgent:i});let a=I(o,7,3);if(!a)return Promise.reject("Unable to validate request (6MSM)");if(!R(a,["clientId","sessionId","signalsHash","__key"]))return Promise.reject("Unable to validate request (SES9)");let{clientId:s,signalsHash:u,__key:l}=a,c=!!a[l]&&Number(a[l]);if(!c)return Promise.reject("Unable to validate request (HZ71)");let f=E();return c<f-30||c>f?Promise.reject("Unable to validate request (I70A)"):Promise.resolve({ip:n,country:r,userAgent:i,clientId:s,signalsHash:u})},B="production"===L("NODE_ENV")?"http://ms-plum-app-1:3000":"http://localhost:3100",z=async(t,e,n)=>new Promise(r=>{let i="string"==typeof t.headers.cookie?(0,q.parse)(t.headers.cookie):void 0;return i?.token?Y(t,e).then(t=>n({token:i.token,...t})).then(t=>r(t.json())).catch(t=>r({success:!1,error:t})):r({success:!1,error:"You are not signed in"})}),H=(t,e)=>z(t,e,t=>p(`${B}/me`,{body:t}));L("NODE_ENV");var K=async t=>{let e=await H(t);return e?.success?{signedIn:!0,user:e.user}:{signedIn:!1,error:e.error}},V=t=>async e=>{let n=await K(e.req),r=await t?.redirect?.(n.user,e);return r?{redirect:{destination:r,permanent:!1}}:(t?.updateContext&&(e=t.updateContext(n.user,e)),{props:{...n,data:t?.supplyData?await t.supplyData(n.user,e):null}})},$=async(t,e,n)=>new Promise((r,i)=>n(t,e,t=>t instanceof Error?i(t):r(t))),G=(t,e="s",n="")=>1===t?n:e,J={};l(J,{asn:()=>W,domain:()=>Q,email:()=>tt,hostname:()=>te,ip:()=>tn,url:()=>tr});var W=/^(^AS)?[0-9]+$/,Q=/([A-z]+)\.([A-z]{2,})/,tt=/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,te=/^[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/\\/=]*)/,tn=/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))/,tr=/^https?:\/\/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,ti={};l(ti,{decrypt:()=>ta,encrypt:()=>to});var to=async(t,e)=>{let n=new TextEncoder,r=crypto.getRandomValues(new Uint8Array(16)),i=crypto.getRandomValues(new Uint8Array(12)),o=await crypto.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveKey"]),a=await crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!0,["encrypt"]),s=new Uint8Array(await crypto.subtle.encrypt({name:"AES-GCM",iv:i},a,n.encode(t))),u=new Uint8Array(r.length+i.length+s.length);return u.set(r),u.set(i,r.length),u.set(s,r.length+i.length),O(btoa(String.fromCharCode(...u)))},ta=async(t,e)=>{let n=Uint8Array.from(atob(N(t)),t=>t.charCodeAt(0)),r=n.slice(0,16),i=n.slice(16,28),o=n.slice(28),a=new TextEncoder,s=await crypto.subtle.importKey("raw",a.encode(e),{name:"PBKDF2"},!1,["deriveKey"]),u=await crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!0,["decrypt"]),l=await crypto.subtle.decrypt({name:"AES-GCM",iv:i},u,o);return new TextDecoder().decode(l)}},61591:function(t,e){/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */e.parse=function(t,e){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var n={},r=(e||{}).decode||i,o=0;o<t.length;){var a=t.indexOf("=",o);if(-1===a)break;var s=t.indexOf(";",o);if(-1===s)s=t.length;else if(s<a){o=t.lastIndexOf(";",a-1)+1;continue}var u=t.slice(o,a).trim();if(void 0===n[u]){var l=t.slice(a+1,s).trim();34===l.charCodeAt(0)&&(l=l.slice(1,-1)),n[u]=function(t,e){try{return e(t)}catch(e){return t}}(l,r)}o=s+1}return n},e.serialize=function(t,e,i){var a=i||{},s=a.encode||o;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!r.test(t))throw TypeError("argument name is invalid");var u=s(e);if(u&&!r.test(u))throw TypeError("argument val is invalid");var l=t+"="+u;if(null!=a.maxAge){var c=a.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(a.domain){if(!r.test(a.domain))throw TypeError("option domain is invalid");l+="; Domain="+a.domain}if(a.path){if(!r.test(a.path))throw TypeError("option path is invalid");l+="; Path="+a.path}if(a.expires){var f=a.expires;if("[object Date]"!==n.call(f)&&!(f instanceof Date)||isNaN(f.valueOf()))throw TypeError("option expires is invalid");l+="; Expires="+f.toUTCString()}if(a.httpOnly&&(l+="; HttpOnly"),a.secure&&(l+="; Secure"),a.priority)switch("string"==typeof a.priority?a.priority.toLowerCase():a.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var n=Object.prototype.toString,r=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(t){return -1!==t.indexOf("%")?decodeURIComponent(t):t}function o(t){return encodeURIComponent(t)}},50489:function(t,e,n){function r(){}function i(t){return null==t?r:function(){return this.querySelector(t)}}function o(){return[]}function a(t){return null==t?o:function(){return this.querySelectorAll(t)}}function s(t){return function(){return this.matches(t)}}function u(t){return function(e){return e.matches(t)}}n.d(e,{$0Z:function(){return tY.ZP},jvg:function(){return tR.Z},BYU:function(){return tX.BY}});var l,c=Array.prototype.find;function f(){return this.firstElementChild}var h=Array.prototype.filter;function p(){return Array.from(this.children)}function d(t){return Array(t.length)}function y(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function v(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new y(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function _(t,e,n,r,i,o,a){var s,u,l,c=new Map,f=e.length,h=o.length,p=Array(f);for(s=0;s<f;++s)(u=e[s])&&(p[s]=l=a.call(u,u.__data__,s,e)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<h;++s)l=a.call(t,o[s],s,o)+"",(u=c.get(l))?(r[s]=u,u.__data__=o[s],c.delete(l)):n[s]=new y(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&c.get(p[s])===u&&(i[s]=u)}function m(t){return t.__data__}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}y.prototype={constructor:y,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var w="http://www.w3.org/1999/xhtml",A={svg:"http://www.w3.org/2000/svg",xhtml:w,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function b(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),A.hasOwnProperty(e)?{space:A[e],local:t}:t}function x(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function S(t,e){return t.style.getPropertyValue(e)||x(t).getComputedStyle(t,null).getPropertyValue(e)}function E(t){return t.trim().split(/^|\s+/)}function C(t){return t.classList||new P(t)}function P(t){this._node=t,this._names=E(t.getAttribute("class")||"")}function k(t,e){for(var n=C(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function O(t,e){for(var n=C(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function N(){this.textContent=""}function M(){this.innerHTML=""}function j(){this.nextSibling&&this.parentNode.appendChild(this)}function T(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function D(t){var e=b(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===w&&e.documentElement.namespaceURI===w?e.createElement(t):e.createElementNS(n,t)}})(e)}function U(){return null}function F(){var t=this.parentNode;t&&t.removeChild(this)}function I(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Z(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function q(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)(n=e[r],t.type&&n.type!==t.type||n.name!==t.name)?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function L(t,e,n){return function(){var r,i=this.__on,o=function(t){e.call(this,t,this.__data__)};if(i){for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=e;return}}this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function X(t,e,n){var r=x(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}P.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var R=[null];function Y(t,e){this._groups=t,this._parents=e}function B(){return new Y([[document.documentElement]],R)}Y.prototype=B.prototype={constructor:Y,select:function(t){"function"!=typeof t&&(t=i(t));for(var e=this._groups,n=e.length,r=Array(n),o=0;o<n;++o)for(var a,s,u=e[o],l=u.length,c=r[o]=Array(l),f=0;f<l;++f)(a=u[f])&&(s=t.call(a,a.__data__,f,u))&&("__data__"in a&&(s.__data__=a.__data__),c[f]=s);return new Y(r,this._parents)},selectAll:function(t){if("function"==typeof t){var e;e=t,t=function(){var t;return t=e.apply(this,arguments),null==t?[]:Array.isArray(t)?t:Array.from(t)}}else t=a(t);for(var n=this._groups,r=n.length,i=[],o=[],s=0;s<r;++s)for(var u,l=n[s],c=l.length,f=0;f<c;++f)(u=l[f])&&(i.push(t.call(u,u.__data__,f,l)),o.push(u));return new Y(i,o)},selectChild:function(t){var e;return this.select(null==t?f:(e="function"==typeof t?t:u(t),function(){return c.call(this.children,e)}))},selectChildren:function(t){var e;return this.selectAll(null==t?p:(e="function"==typeof t?t:u(t),function(){return h.call(this.children,e)}))},filter:function(t){"function"!=typeof t&&(t=s(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,l=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Y(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,m);var n=e?_:v,r=this._parents,i=this._groups;"function"!=typeof t&&(A=t,t=function(){return A});for(var o=i.length,a=Array(o),s=Array(o),u=Array(o),l=0;l<o;++l){var c=r[l],f=i[l],h=f.length,p="object"==typeof(w=t.call(c,c&&c.__data__,l,r))&&"length"in w?w:Array.from(w),d=p.length,y=s[l]=Array(d),g=a[l]=Array(d);n(c,f,y,g,u[l]=Array(h),p,e);for(var w,A,b,x,S=0,E=0;S<d;++S)if(b=y[S]){for(S>=E&&(E=S+1);!(x=g[E])&&++E<d;);b._next=x||null}}return(a=new Y(a,r))._enter=s,a._exit=u,a},enter:function(){return new Y(this._enter||this._groups.map(d),this._parents)},exit:function(){return new Y(this._exit||this._groups.map(d),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=Array(i),u=0;u<a;++u)for(var l,c=n[u],f=r[u],h=c.length,p=s[u]=Array(h),d=0;d<h;++d)(l=c[d]||f[d])&&(p[d]=l);for(;u<i;++u)s[u]=n[u];return new Y(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=g);for(var n=this._groups,r=n.length,i=Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new Y(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(let e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=b(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):S(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=E(t+"");if(arguments.length<2){for(var r=C(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?k:O)(this,t)}}:e?function(t){return function(){k(this,t)}}:function(t){return function(){O(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?N:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?M:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(j)},lower:function(){return this.each(T)},append:function(t){var e="function"==typeof t?t:D(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:D(t),r=null==e?U:"function"==typeof e?e:i(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(F)},clone:function(t){return this.select(t?Z:I)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(arguments.length<2){var s=this.node().__on;if(s){for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}return}for(r=0,s=e?L:q;r<a;++r)this.each(s(o[r],e,n));return this},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return X(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return X(this,t,e)}})(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var z={value:()=>{}};function H(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw Error("illegal type: "+t);r[t]=[]}return new K(r)}function K(t){this._=t}function V(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=z,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}K.prototype=H.prototype={constructor:K,on:function(t,e){var n,r=this._,i=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}),o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((n=(t=i[o]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(r[n],t.name)))return n;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=V(r[n],t.name,e);else if(null==e)for(n in r)r[n]=V(r[n],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new K(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var $,G,J=0,W=0,Q=0,tt=0,te=0,tn=0,tr="object"==typeof performance&&performance.now?performance:Date,ti="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function to(){return te||(ti(ta),te=tr.now()+tn)}function ta(){te=0}function ts(){this._call=this._time=this._next=null}function tu(t,e,n){var r=new ts;return r.restart(t,e,n),r}function tl(){te=(tt=tr.now())+tn,J=W=0;try{!function(){to(),++J;for(var t,e=$;e;)(t=te-e._time)>=0&&e._call.call(void 0,t),e=e._next;--J}()}finally{J=0,function(){for(var t,e,n=$,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:$=e);G=t,tf(r)}(),te=0}}function tc(){var t=tr.now(),e=t-tt;e>1e3&&(tn-=e,tt=t)}function tf(t){!J&&(W&&(W=clearTimeout(W)),t-te>24?(t<1/0&&(W=setTimeout(tl,t-tr.now()-tn)),Q&&(Q=clearInterval(Q))):(Q||(tt=tr.now(),Q=setInterval(tc,1e3)),J=1,ti(tl)))}function th(t,e,n){var r=new ts;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r}ts.prototype=tu.prototype={constructor:ts,restart:function(t,e,n){if("function"!=typeof t)throw TypeError("callback is not a function");n=(null==n?to():+n)+(null==e?0:+e),this._next||G===this||(G?G._next=this:$=this,G=this),this._call=t,this._time=n,tf()},stop:function(){this._call&&(this._call=null,this._time=1/0,tf())}};var tp=H("start","end","cancel","interrupt"),td=[];function ty(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var l,c,f,h;if(1!==n.state)return s();for(l in i)if((h=i[l]).name===n.name){if(3===h.state)return th(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(th(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(l=0,n.state=3,r=Array(f=n.tween.length),c=-1;l<f;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=tu(function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:tp,tween:td,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function tv(t,e){var n=tm(t,e);if(n.state>0)throw Error("too late; already scheduled");return n}function t_(t,e){var n=tm(t,e);if(n.state>3)throw Error("too late; already running");return n}function tm(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw Error("transition not found");return n}var tg=n(82755),tw=180/Math.PI,tA={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tb(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*tw,skewX:Math.atan(u)*tw,scaleX:a,scaleY:s}}function tx(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s,u,l,c,f=[],h=[];return o=t(o),a=t(a),!function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:(0,tg.Z)(t,i)},{i:u-2,x:(0,tg.Z)(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,f,h),(s=o.rotate)!==(u=a.rotate)?(s-u>180?u+=360:u-s>180&&(s+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:(0,tg.Z)(s,u)})):u&&f.push(i(f)+"rotate("+u+r),(l=o.skewX)!==(c=a.skewX)?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:(0,tg.Z)(l,c)}):c&&f.push(i(f)+"skewX("+c+r),!function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:(0,tg.Z)(t,n)},{i:s-2,x:(0,tg.Z)(e,r)})}else(1!==n||1!==r)&&o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,f,h),o=a=null,function(t){for(var e,n=-1,r=h.length;++n<r;)f[(e=h[n]).i]=e.x(t);return f.join("")}}}var tS=tx(function(t){let e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?tA:tb(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),tE=tx(function(t){return null==t?tA:(l||(l=document.createElementNS("http://www.w3.org/2000/svg","g")),l.setAttribute("transform",t),t=l.transform.baseVal.consolidate())?tb((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):tA},", ",")",")");function tC(t,e,n){var r=t._id;return t.each(function(){var t=t_(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return tm(t,r).value[e]}}var tP=n(43236),tk=n(31060),tO=n(38301);function tN(t,e){var n;return("number"==typeof e?tg.Z:e instanceof tP.ZP?tk.ZP:(n=(0,tP.ZP)(e))?(e=n,tk.ZP):tO.Z)(t,e)}var tM=B.prototype.constructor;function tj(t){return function(){this.style.removeProperty(t)}}var tT=0;function tD(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}var tU=B.prototype;tD.prototype=(function(t){return B().transition(t)}).prototype={constructor:tD,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=i(t));for(var r=this._groups,o=r.length,a=Array(o),s=0;s<o;++s)for(var u,l,c=r[s],f=c.length,h=a[s]=Array(f),p=0;p<f;++p)(u=c[p])&&(l=t.call(u,u.__data__,p,c))&&("__data__"in u&&(l.__data__=u.__data__),h[p]=l,ty(h[p],e,n,p,h,tm(u,n)));return new tD(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=a(t));for(var r=this._groups,i=r.length,o=[],s=[],u=0;u<i;++u)for(var l,c=r[u],f=c.length,h=0;h<f;++h)if(l=c[h]){for(var p,d=t.call(l,l.__data__,h,c),y=tm(l,n),v=0,_=d.length;v<_;++v)(p=d[v])&&ty(p,e,n,v,d,y);o.push(d),s.push(l)}return new tD(o,s,e,n)},selectChild:tU.selectChild,selectChildren:tU.selectChildren,filter:function(t){"function"!=typeof t&&(t=s(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,l=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new tD(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw Error();for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],f=l.length,h=a[s]=Array(f),p=0;p<f;++p)(u=l[p]||c[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new tD(a,this._parents,this._name,this._id)},selection:function(){return new tM(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++tT,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=tm(a,e);ty(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new tD(r,this._parents,t,n)},call:tU.call,nodes:tU.nodes,node:tU.node,size:tU.size,empty:tU.empty,each:tU.each,on:function(t,e){var n,r,i,o=this._id;return arguments.length<2?tm(this.node(),o).on.on(t):this.each((i=(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?tv:t_,function(){var a=i(this,o),s=a.on;s!==n&&(r=(n=s).copy()).on(t,e),a.on=r}))},attr:function(t,e){var n=b(t),r="transform"===n?tE:tN;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s,u=n(this);return null==u?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u))}}:function(t,e,n){var r,i,o;return function(){var a,s,u=n(this);return null==u?void this.removeAttribute(t):(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u))}})(n,r,tC(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}:function(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw Error();var r=b(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e){this.setAttributeNS(t.space,t.local,i.call(this,e))}),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e){this.setAttribute(t,i.call(this,e))}),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r,i,o,a,s,u,l,c,f,h,p,d,y,v,_,m,g,w,A,b,x,E="transform"==(t+="")?tS:tN;return null==e?this.styleTween(t,(r=t,function(){var t=S(this,r),e=(this.style.removeProperty(r),S(this,r));return t===e?null:t===i&&e===o?a:a=E(i=t,o=e)})).on("end.style."+t,tj(t)):"function"==typeof e?this.styleTween(t,(s=t,u=tC(this,"style."+t,e),function(){var t=S(this,s),e=u(this),n=e+"";return null==e&&(this.style.removeProperty(s),n=e=S(this,s)),t===n?null:t===l&&n===c?f:(c=n,f=E(l=t,e))})).each((h=this._id,g="end."+(m="style."+(p=t)),function(){var t=t_(this,h),e=t.on,n=null==t.value[m]?_||(_=tj(p)):void 0;(e!==d||v!==n)&&(y=(d=e).copy()).on(g,v=n),t.on=y})):this.styleTween(t,(w=t,x=e+"",function(){var t=S(this,w);return t===x?null:t===A?b:b=E(A=t,e)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw Error();return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e){this.style.setProperty(t,o.call(this,e),n)}),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){var e,n;return this.tween("text","function"==typeof t?(e=tC(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(n=null==t?"":t+"",function(){this.textContent=n}))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw Error();return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){this.textContent=r.call(this,t)}),e}return r._value=t,r}(t))},remove:function(){var t;return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=tm(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=t_(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw Error();return function(){var o=t_(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){tv(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){tv(this,t).delay=e}})(e,t)):tm(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){t_(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){t_(this,t).duration=e}})(e,t)):tm(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw Error();return function(){t_(this,t).ease=e}}(e,t)):tm(this.node(),e).ease},easeVarying:function(t){var e;if("function"!=typeof t)throw Error();return this.each((e=this._id,function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw Error();t_(this,e).ease=n}))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each(function(){var n=t_(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e}),0===i&&o()})},[Symbol.iterator]:tU[Symbol.iterator]};var tF={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};B.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o){if((n=o[i]).name!==e){a=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]}a&&delete t.__transition}}(this,t)})},B.prototype.transition=function(t){var e,n;t instanceof tD?(e=t._id,t=t._name):(e=++tT,(n=tF).time=to(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&ty(a,t,e,l,s,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw Error(`transition ${e} not found`);return n}(a,e));return new tD(r,this._parents,t,e)};let{abs:tI,max:tZ,min:tq}=Math;function tL(t){return{type:t}}["w","e"].map(tL),["n","s"].map(tL),["n","w","e","s","nw","ne","sw","se"].map(tL);var tX=n(11599),tR=n(31330),tY=n(67418);function tB(t,e,n){this.k=t,this.x=e,this.y=n}tB.prototype={constructor:tB,scale:function(t){return 1===t?this:new tB(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new tB(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new tB(1,0,0),tB.prototype}}]);